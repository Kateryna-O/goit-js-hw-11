{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const apiKey = '43344529-efab811219d9ae176ef45ef76';\nconst baseUrl = 'https://pixabay.com/api/';\n\nasync function searchImages(query) {\n  const url = `${baseUrl}?key=${apiKey}&q=${query}&image_type=photo&orientation=horizontal&safesearch=true`;\n\n  try {\n    const response = await fetch(url);\n    const data = await response.json();\n    return data.hits;\n  } catch (error) {\n    console.error('Error searching images:', error);\n    return [];\n  }\n}\n\nexport { searchImages };\n","// Описаний у документації\nimport SimpleLightbox from 'simplelightbox';\n// Додатковий імпорт стилів\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst lightbox = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\nexport function renderGalleryImg(parentEl, data) {\n  parentEl.innerHTML = generateMarkup(data);\n  lightbox.refresh();\n}\n\nfunction generateMarkup(data) {\n  return data\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) =>\n        `<li class=\"gallery-item\">\n            <a class=\"gallery-link\" href=\"${largeImageURL}\">\n              \n                <img class=\"gallery-image\" src=\"${webformatURL}\" alt=\"${tags}\" width=\"360\" />\n               \n                  <ul class=\"gallery-text\">\n                    <li>\n                      <span>Likes</span>\n                      <p>${likes}</p>\n                    </li>\n                    <li>\n                      <span>Views</span>\n                      <p>${views}</p>\n                    </li>\n                    <li>\n                      <span>Comments</span>\n                      <p>${comments}</p>\n                    </li>\n                    <li>\n                      <span>Downloads</span>\n                      <p>${downloads}</p>\n                    </li>\n                  </ul>\n\n            </a>\n          </li>`\n    )\n    .join(' ');\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport { searchImages } from './js/pixabay-api.js';\nimport { renderGalleryImg } from './js/render-functions.js';\n\nconst form = document.querySelector('.search-form');\nconst gallery = document.querySelector('.gallery');\n\nconst loaderWrapperEl = document.querySelector('.loader-wrapper ');\n\nform.addEventListener('submit', onSubmitForm);\n\nasync function onSubmitForm(event) {\n  event.preventDefault();\n\n  gallery.innerHTML = '';\n  loaderWrapperEl.classList.remove('is-hidden');\n\n  const inputValue = document.getElementById('input-text').value.trim();\n\n  if (inputValue !== '') {\n    try {\n      const images = await searchImages(inputValue);\n      if (images.length > 0) {\n        renderGalleryImg(gallery, images);\n      } else {\n        iziToast.info({\n          title: 'Info',\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n        });\n      }\n    } catch (error) {\n      console.error('Error searching images:', error);\n      iziToast.error({\n        title: 'Error',\n        message:\n          'An error occurred while searching for images. Please try again later.',\n      });\n    } finally {\n      loaderWrapperEl.classList.add('is-hidden');\n    }\n  } else {\n    iziToast.error({\n      title: 'Error',\n      message: 'Please enter a search term',\n    });\n  }\n}\n"],"names":["apiKey","baseUrl","searchImages","query","url","error","lightbox","SimpleLightbox","renderGalleryImg","parentEl","data","generateMarkup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","form","gallery","loaderWrapperEl","onSubmitForm","event","inputValue","images","iziToast"],"mappings":"wvBAAA,MAAMA,EAAS,qCACTC,EAAU,2BAEhB,eAAeC,EAAaC,EAAO,CACjC,MAAMC,EAAM,GAAGH,CAAO,QAAQD,CAAM,MAAMG,CAAK,2DAE/C,GAAI,CAGF,OADa,MADI,MAAM,MAAMC,CAAG,GACJ,QAChB,IACb,OAAQC,EAAO,CACd,eAAQ,MAAM,0BAA2BA,CAAK,EACvC,EACR,CACH,CCTA,MAAMC,EAAW,IAAIC,EAAe,aAAc,CAChD,aAAc,MACd,aAAc,GAChB,CAAC,EAEM,SAASC,EAAiBC,EAAUC,EAAM,CAC/CD,EAAS,UAAYE,EAAeD,CAAI,EACxCJ,EAAS,QAAO,CAClB,CAEA,SAASK,EAAeD,EAAM,CAC5B,OAAOA,EACJ,IACC,CAAC,CACC,aAAAE,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACD,IACC;AAAA,4CACoCL,CAAa;AAAA;AAAA,kDAEPD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA,2BAKjDC,CAAK;AAAA;AAAA;AAAA;AAAA,2BAILC,CAAK;AAAA;AAAA;AAAA;AAAA,2BAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,2BAIRC,CAAS;AAAA;AAAA;AAAA;AAAA;AAAA,gBAM/B,EACA,KAAK,GAAG,CACb,CCjDA,MAAMC,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAU,SAAS,cAAc,UAAU,EAE3CC,EAAkB,SAAS,cAAc,kBAAkB,EAEjEF,EAAK,iBAAiB,SAAUG,CAAY,EAE5C,eAAeA,EAAaC,EAAO,CACjCA,EAAM,eAAc,EAEpBH,EAAQ,UAAY,GACpBC,EAAgB,UAAU,OAAO,WAAW,EAE5C,MAAMG,EAAa,SAAS,eAAe,YAAY,EAAE,MAAM,OAE/D,GAAIA,IAAe,GACjB,GAAI,CACF,MAAMC,EAAS,MAAMvB,EAAasB,CAAU,EACxCC,EAAO,OAAS,EAClBjB,EAAiBY,EAASK,CAAM,EAEhCC,EAAS,KAAK,CACZ,MAAO,OACP,QACE,0EACZ,CAAS,CAEJ,OAAQrB,EAAO,CACd,QAAQ,MAAM,0BAA2BA,CAAK,EAC9CqB,EAAS,MAAM,CACb,MAAO,QACP,QACE,uEACV,CAAO,CACP,QAAc,CACRL,EAAgB,UAAU,IAAI,WAAW,CAC1C,MAEDK,EAAS,MAAM,CACb,MAAO,QACP,QAAS,4BACf,CAAK,CAEL"}